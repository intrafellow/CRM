# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç CRM Backend

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd backend
pip install -r requirements.txt
```

## –®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python run.py
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
============================================================
üöÄ –ó–∞–ø—É—Å–∫ CRM API —Å–µ—Ä–≤–µ—Ä–∞
============================================================
üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö...
‚úì –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã
‚úì –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (admin@crm.com)
‚úì –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (ivan.petrov@crm.com)
‚úì –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞ (maria.sidorova@crm.com)
‚úì –°–æ–∑–¥–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê–ª–µ–∫—Å–µ–π –ö—É–∑–Ω–µ—Ü–æ–≤ (alex.kuznetsov@crm.com)

‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

üìù –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
  üëë admin@crm.com / admin123 (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
  üë§ ivan.petrov@crm.com / employee123 (–°–æ—Ç—Ä—É–¥–Ω–∏–∫)
  üë§ maria.sidorova@crm.com / employee123 (–°–æ—Ç—Ä—É–¥–Ω–∏–∫)
  üë§ alex.kuznetsov@crm.com / employee123 (–°–æ—Ç—Ä—É–¥–Ω–∏–∫)

============================================================
üåê –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ http://localhost:8000
üìö Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs
üìñ ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/redoc
============================================================
```

## –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8000/docs**

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Swagger

### 4.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"**
2. –û—Ç–∫—Ä–æ–π—Ç–µ `POST /api/auth/login`
3. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
4. –í–≤–µ–¥–∏—Ç–µ:
   ```json
   {
     "email": "admin@crm.com",
     "password": "admin123"
   }
   ```
5. –ù–∞–∂–º–∏—Ç–µ **"Execute"**
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `access_token` –∏–∑ –æ—Ç–≤–µ—Ç–∞
7. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"Authorize"** –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
8. –í–≤–µ–¥–∏—Ç–µ: `Bearer –í–ê–®_–¢–û–ö–ï–ù`
9. –ù–∞–∂–º–∏—Ç–µ **"Authorize"**

### 4.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ `POST /api/contacts`
2. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
3. –í–≤–µ–¥–∏—Ç–µ:
   ```json
   {
     "contact": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
   }
   ```
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

### 4.3 –°–æ–∑–¥–∞–Ω–∏–µ —Å–¥–µ–ª–∫–∏

1. –ù–∞–π–¥–∏—Ç–µ `POST /api/deals`
2. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
3. –í–≤–µ–¥–∏—Ç–µ:
   ```json
   {
     "data": {
       "Company": "–û–û–û –†–æ–≥–∞ –∏ –ö–æ–ø—ã—Ç–∞",
       "Status": "–í —Ä–∞–±–æ—Ç–µ",
       "Type": "B2B",
       "Sector": "IT",
       "Responsible": "admin@crm.com",
       "Comments": "–ü–µ—Ä–≤–∞—è —Å–¥–µ–ª–∫–∞"
     }
   }
   ```
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**

## –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
```bash
TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å"
```

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç:
```bash
curl -X POST http://localhost:8000/api/contacts \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"contact": "–ü–µ—Ç—Ä –ü–µ—Ç—Ä–æ–≤"}'
```

–ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤:
```bash
curl -X GET http://localhost:8000/api/contacts \
  -H "Authorization: Bearer $TOKEN"
```

## –®–∞–≥ 6: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
chmod +x test_api.sh
./test_api.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í–æ–π–¥–µ—Ç –ø–æ–¥ –∞–¥–º–∏–Ω–æ–º
- –°–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã
- –°–æ–∑–¥–∞—Å—Ç —Å–¥–µ–ª–∫–∏
- –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

## –®–∞–≥ 7: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Postman

1. –û—Ç–∫—Ä–æ–π—Ç–µ Postman
2. File ‚Üí Import
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `CRM_API.postman_collection.json`
4. –í –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ **"Login (Admin)"**
5. –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è
6. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å —Ä–∞–±–æ—Ç–∞—é—â–∏–π CRM Backend API —Å:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Swagger
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ JWT
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏ —Å–¥–µ–ª–æ–∫
- ‚úÖ –°–∏—Å—Ç–µ–º–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã:** –°–º. —Ñ–∞–π–ª `EXAMPLES.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** –°–º. —Ñ–∞–π–ª `README.md`
- **Swagger UI:** http://localhost:8000/docs
- **ReDoc:** http://localhost:8000/redoc

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
```bash
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—É—é –ë–î –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ
rm crm.db
python -m app.init_data
```

### –ü–æ—Ä—Ç 8000 –∑–∞–Ω—è—Ç
```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ run.py –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
uvicorn app.main:app --port 8001
```

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install --upgrade -r requirements.txt
```

